# Unityæ€§èƒ½åˆ†æžå·¥å…· - å‡½æ•°è€—æ—¶ç«ç„°å›¾

ä¸€ä¸ªç”¨äºŽæ˜¾ç¤ºUnityå‡½æ•°è€—æ—¶çš„ç«ç„°å›¾å¯è§†åŒ–å·¥å…·ï¼Œæ”¯æŒå•ç‹¬æ˜¾ç¤ºå’Œdiffå¯¹æ¯”åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ðŸ”¥ ç«ç„°å›¾æ˜¾ç¤º
- **å±‚æ¬¡åŒ–æ˜¾ç¤º**: ä»¥ç«ç„°å›¾å½¢å¼å±•ç¤ºå‡½æ•°è°ƒç”¨å±‚æ¬¡å’Œè€—æ—¶
- **é¢œè‰²ç¼–ç **: æ ¹æ®è€—æ—¶é•¿çŸ­ä½¿ç”¨ä¸åŒé¢œè‰²æ ‡è¯†
  - çº¢è‰²: é«˜è€—æ—¶å‡½æ•° (>10ms)
  - æ©™è‰²: ä¸­ç­‰è€—æ—¶å‡½æ•° (1-10ms) 
  - ç»¿è‰²: ä½Žè€—æ—¶å‡½æ•° (<1ms)
- **äº¤äº’å¼æ“ä½œ**: æ”¯æŒé¼ æ ‡æ‚¬åœæŸ¥çœ‹è¯¦æƒ…ã€ç‚¹å‡»é€‰æ‹©ã€åŒå‡»æ·±å…¥

### ðŸ“Š æ•°æ®åˆ†æž
- **ç»Ÿè®¡ä¿¡æ¯**: æ˜¾ç¤ºæ€»æ ·æœ¬æ•°ã€å‡½æ•°æ•°ã€æœ€å¤§è°ƒç”¨æ·±åº¦ç­‰
- **å‡½æ•°è¯¦æƒ…**: å±•ç¤ºé€‰ä¸­å‡½æ•°çš„è¯¦ç»†è€—æ—¶ä¿¡æ¯
- **æœç´¢åŠŸèƒ½**: å¿«é€Ÿå®šä½ç‰¹å®šå‡½æ•°
- **æŽ’åºé€‰é¡¹**: æ”¯æŒæŒ‰æ—¶é—´æˆ–åç§°æŽ’åº

### âš™ï¸ è‡ªå®šä¹‰é…ç½®
- **æœ€å°è€—æ—¶è¿‡æ»¤**: éšè—ä½ŽäºŽé˜ˆå€¼çš„å‡½æ•°è°ƒç”¨
- **è¡Œé«˜è°ƒèŠ‚**: è‡ªå®šä¹‰ç«ç„°å›¾è¡Œé«˜
- **æ˜¾ç¤ºé€‰é¡¹**: æŽ§åˆ¶å‡½æ•°åç§°ã€è€—æ—¶æ•°æ®çš„æ˜¾ç¤º
- **å¯¹æ¯”æ¨¡å¼**: æ”¯æŒä¸¤ä¸ªæ•°æ®é›†çš„diffå¯¹æ¯”

### ðŸ’¾ æ•°æ®å¤„ç†
- **JSONå¯¼å…¥**: æ”¯æŒæ‹–æ‹½æˆ–é€‰æ‹©JSONæ–‡ä»¶å¯¼å…¥
- **å›¾ç‰‡å¯¼å‡º**: å°†ç«ç„°å›¾å¯¼å‡ºä¸ºPNGå›¾ç‰‡
- **é¢åŒ…å±‘å¯¼èˆª**: æ˜¾ç¤ºå½“å‰æŸ¥çœ‹çš„å‡½æ•°å±‚çº§è·¯å¾„

## æ•°æ®æ ¼å¼

å·¥å…·æŽ¥å—ä»¥ä¸‹JSONæ ¼å¼çš„æ ‘å½¢ç»“æž„æ•°æ®ï¼š

```json
{
  "name": "å‡½æ•°åç§°",
  "time": æ€»è€—æ—¶(æ¯«ç§’),
  "selfTime": è‡ªèº«è€—æ—¶(æ¯«ç§’),
  "children": [
    {
      "name": "å­å‡½æ•°åç§°",
      "time": å­å‡½æ•°è€—æ—¶,
      "selfTime": å­å‡½æ•°è‡ªèº«è€—æ—¶,
      "children": []
    }
  ]
}
```

### å­—æ®µè¯´æ˜Ž
- `name`: å‡½æ•°æˆ–æ–¹æ³•åç§°
- `time`: è¯¥å‡½æ•°åŠå…¶æ‰€æœ‰å­å‡½æ•°çš„æ€»è€—æ—¶
- `selfTime`: è¯¥å‡½æ•°è‡ªèº«çš„è€—æ—¶ï¼ˆä¸åŒ…æ‹¬å­å‡½æ•°ï¼‰
- `children`: å­å‡½æ•°æ•°ç»„ï¼Œå¯ä»¥åµŒå¥—å¤šå±‚

## ä½¿ç”¨æ–¹æ³•

### 1. æ‰“å¼€å·¥å…·
ç›´æŽ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `index.html` æ–‡ä»¶

### 2. å¯¼å…¥æ•°æ®
- **æ–¹å¼ä¸€**: ç‚¹å‡»"é€‰æ‹©JSONæ–‡ä»¶"æŒ‰é’®é€‰æ‹©æ•°æ®æ–‡ä»¶
- **æ–¹å¼äºŒ**: ç›´æŽ¥å°†JSONæ–‡ä»¶æ‹–æ‹½åˆ°ç«ç„°å›¾åŒºåŸŸ
- **æ–¹å¼ä¸‰**: ä½¿ç”¨æä¾›çš„ç¤ºä¾‹æ•°æ® `sample-data.json`

### 3. é…ç½®å‚æ•°
åœ¨å·¦ä¾§é¢æ¿ä¸­è°ƒæ•´ä»¥ä¸‹å‚æ•°ï¼š
- **æœ€å°å ç”¨æ—¶é—´**: è®¾ç½®æ˜¾ç¤ºçš„æœ€å°è€—æ—¶é˜ˆå€¼
- **è¡Œé«˜**: è°ƒæ•´ç«ç„°å›¾çš„è¡Œé«˜åº¦
- **æ˜¾ç¤ºé€‰é¡¹**: æŽ§åˆ¶æ˜¾ç¤ºå†…å®¹
- **æŽ’åºæ–¹å¼**: é€‰æ‹©æŽ’åºæ–¹æ³•

### 4. äº¤äº’æ“ä½œ
- **é¼ æ ‡æ‚¬åœ**: æŸ¥çœ‹å‡½æ•°è¯¦ç»†ä¿¡æ¯
- **å•å‡»**: é€‰æ‹©å‡½æ•°å¹¶åœ¨å³ä¾§æ˜¾ç¤ºè¯¦æƒ…
- **åŒå‡»**: æ·±å…¥åˆ°è¯¥å‡½æ•°çš„å­è°ƒç”¨å±‚çº§
- **æœç´¢**: åœ¨æœç´¢æ¡†ä¸­è¾“å…¥å‡½æ•°åè¿›è¡ŒæŸ¥æ‰¾

### 5. å¯¼å‡ºç»“æžœ
ç‚¹å‡»"å¯¼å‡ºå›¾ç‰‡"æŒ‰é’®å°†å½“å‰ç«ç„°å›¾ä¿å­˜ä¸ºPNGæ ¼å¼

## æŠ€æœ¯å®žçŽ°

- **å‰ç«¯æŠ€æœ¯**: HTML5 Canvas + JavaScript
- **æ ·å¼æ¡†æž¶**: çº¯CSSå®žçŽ°ï¼Œç»¿è‰²ä¸»é¢˜è®¾è®¡
- **æ•°æ®å¤„ç†**: åŽŸç”ŸJavaScriptï¼Œæ”¯æŒå¤§åž‹æ•°æ®é›†
- **äº¤äº’ä½“éªŒ**: å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯

## æ–‡ä»¶ç»“æž„

```
flame-graph/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢æ–‡ä»¶
â”œâ”€â”€ styles.css          # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ flame-graph.js      # æ ¸å¿ƒJavaScripté€»è¾‘
â”œâ”€â”€ sample-data.json    # ç¤ºä¾‹æ•°æ®æ–‡ä»¶
â””â”€â”€ README.md          # è¯´æ˜Žæ–‡æ¡£
```

## æµè§ˆå™¨å…¼å®¹æ€§

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## å¼€å‘è¯´æ˜Ž

### æ ¸å¿ƒç±»: FlameGraph
ä¸»è¦æ–¹æ³•ï¼š
- `render()`: æ¸²æŸ“ç«ç„°å›¾
- `handleMouseMove()`: å¤„ç†é¼ æ ‡äº¤äº’
- `search()`: æœç´¢åŠŸèƒ½
- `exportImage()`: å¯¼å‡ºå›¾ç‰‡

### æ‰©å±•åŠŸèƒ½
- æ”¯æŒæ·»åŠ diffå¯¹æ¯”æ¨¡å¼
- å¯æ‰©å±•æ›´å¤šæ•°æ®æºæ ¼å¼
- æ”¯æŒæ›´å¤šå¯¼å‡ºæ ¼å¼

## è®¸å¯è¯

MIT License

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- åŸºç¡€ç«ç„°å›¾æ˜¾ç¤ºåŠŸèƒ½
- äº¤äº’å¼æ“ä½œæ”¯æŒ
- JSONæ•°æ®å¯¼å…¥
- å›¾ç‰‡å¯¼å‡ºåŠŸèƒ½